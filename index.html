<!DOCTYPE html>
<html>
<head>
  <title>Carte GTA Interactive</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    body { margin:0; padding:0; }
    #map { height: 100vh; width: 100vw; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Création de la carte
    var map = L.map('map', {
      crs: L.CRS.Simple,
      minZoom: -2
    });

    // Dimensions de l'image de la carte
    var w = 2048, h = 2048
; // adapte selon la taille de ton image
    var bounds = [[0,0], [h,w]];

    // Charger l'image de la carte (mets gta_map.jpg dans le même dossier)
    L.imageOverlay('./gta_map.jpg', bounds).addTo(map);
    map.fitBounds(bounds);

// Groupe pour gérer les points
var markers = L.layerGroup().addTo(map);

// Quand on clique sur la carte → ajoute un marker
map.on("click", function(e) {
    var marker = L.marker(e.latlng).addTo(markers);

    // Clique droit sur le marker → le supprime
    marker.on("contextmenu", function() {
        markers.removeLayer(marker);
    });
});

    map.on("click", function(e) {
    // Affiche les coordonnées dans une popup
    L.popup()
      .setLatLng(e.latlng)
      .setContent("Coordonnées : " + e.latlng.lat.toFixed(0) + ", " + e.latlng.lng.toFixed(0))
      .openOn(map);
});
    
// Groupe Go-Fast
var goFast = L.layerGroup([
    L.marker([1368, 1171]).bindPopup("<b>Go-Fast 🚤</b><br>Grapeseed direction Cayo"),
    L.marker([513, 776]).bindPopup("<b>Go-Fast 🚤</b><br>Vespucci Direction Cayo"),
    L.marker([239, 817]).bindPopup("<b>Go-Fast 🚗</b><br>Aéroport"),
    L.marker([120, 1145]).bindPopup("<b>Go-Fast 🚗</b><br>Quai"),
    L.marker([1748, 1180]).bindPopup("<b>Go-Fast 🚗</b><br>Paleto"),
]);

// Ajouter le groupe par défaut sur la carte
goFast.addTo(map);

var digiscan = L.layerGroup([
    L.marker([1290, 1543]).bindPopup("<b>Digiscan 🔍</b><br>")
]);

var receleur = L.layerGroup([
    L.marker([1231, 1277]).bindPopup("<b>Receleur 🧳</b><br>Vehicule"),
    L.marker([505, 1060]).bindPopup("<b>Receleur 🧳</b><br>Bijoux"),
    L.marker([246, 1089]).bindPopup("<b>Receleur 🧳</b><br>Cambriolage"),
    L.marker([519, 680]).bindPopup("<b>Receleur 🧳</b><br>Chasseur éspèce protégée")
]);

var overlays = {
    "Go-Fast 🚤/🚗": goFast,
    "Digiscan 🔍": digiscan,
    "Receleur 🧳": receleur
};

L.control.layers(null, overlays).addTo(map);

  </script>
</body>
</html>


